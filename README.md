
# `3Mail`

Welcome to `3Mail`, a decentralized messaging application built on the Internet Computer (ICP) blockchain. `3Mail` allows users to send and receive messages securely, with messages stored directly on the blockchain. Only the intended recipient can view the messages, ensuring privacy and security.

This README will guide you through setting up, deploying, and using the `3Mail` project both locally and on the ICP mainnet.

## Project Overview

`3Mail` includes a backend canister written in Motoko, handling message storage and retrieval, and a React-based frontend for user interaction. The frontend allows users to submit messages, view received messages, and interact with the decentralized backend.

To learn more about the technologies used in this project, see the following documentation:

- [Internet Computer Quick Start](https://internetcomputer.org/docs/current/developer-docs/setup/deploy-locally)
- [DFX SDK Developer Tools](https://internetcomputer.org/docs/current/developer-docs/setup/install)
- [Motoko Programming Language Guide](https://internetcomputer.org/docs/current/motoko/main/motoko)
- [React Documentation](https://reactjs.org/docs/getting-started.html)

## Project Structure

```plaintext
custom_mailbox/
├── src/
│   ├── threeMail_backend/
│   │   └── main.mo    # The backend canister code (written in Motoko)
│   └── custom_mailbox_frontend/
│       ├── src/
│       │   ├── App.jsx  # The main React component
│       │   ├── index.jsx # Entry point for React
│       │   └── index.scss # Stylesheet
│       └── public/
│           └── index.html  # HTML template
└── dfx.json  # Configuration file for the project
```

## Running the Project Locally

To test and develop `3Mail` locally, follow these steps:

1. **Start the Internet Computer local replica**:
   ```bash
   dfx start --background
   ```

2. **Deploy the canisters to the local replica**:
   ```bash
   dfx deploy
   ```

   Once deployed, your application will be accessible at `http://localhost:4943?canisterId={asset_canister_id}`.

3. **Generate the Candid interface** (if you make changes to the backend):
   ```bash
   npm run generate
   ```

4. **Start the frontend development server**:
   ```bash
   npm start
   ```

   This will start a server at `http://localhost:8080`, which will proxy API requests to the replica running at port 4943.

## Deploying to the Internet Computer Mainnet

To deploy `3Mail` to the Internet Computer mainnet, ensure you have enough cycles and run:

```bash
dfx deploy --network ic
```

After deployment, you can access your app via the provided URL, such as `https://<canister-id>.ic0.app/`.

## Using 3Mail

### Sending a Message

1. **Enter the recipient's Principal ID** in the designated input field.
2. **Type a subject** and **compose your message**.
3. Click **Send Message** to submit the message to the backend.

### Viewing Messages

1. Click **Get My Messages** to retrieve and view all messages addressed to your Principal ID.
2. Messages will be displayed in a scrollable list format.

### Environment Variables for Frontend

If you are hosting the frontend separately from DFX, ensure the following adjustments are made:

- Set `DFX_NETWORK` to `ic` if using Webpack for production.
- Replace `process.env.DFX_NETWORK` in autogenerated declarations, or use the `env_override` option in `dfx.json`.

## Customization and Further Development

You can customize the frontend by editing the React components in `src/custom_mailbox_frontend/src/`. Styles can be adjusted in the `index.scss` file. 

### Future Improvements

- Add pagination or search functionality for messages.
- Implement additional security features.
- Enhance the user interface with more advanced CSS or integrate a UI framework like Bootstrap or Material-UI.

## Troubleshooting

If you encounter any issues, consider the following:

- Verify that DFX is running (`dfx start --background`).
- Ensure the backend canister is correctly deployed and up-to-date (`dfx deploy`).
- Check the browser console for any errors in the frontend.

## Contributing

Contributions are welcome! Feel free to fork this repository, make your changes, and submit a pull request.

## License

This project is licensed under the [MIT License](LICENSE).
